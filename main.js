(()=>{"use strict";var t={d:(e,o)=>{for(var a in o)t.o(o,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:o[a]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{Z:()=>d});var o={};t.r(o);class a{constructor(t,e,o,a){this.title=t,this.description=e,this.dueDate=o,this.priority=a,this.completion=!1}set updateTitle(t){this.title=t}set updateDescription(t){this.description=t}set updateDueDate(t){this.dueDate=t}set updatePriority(t){this.priority=t}}const d={lists:document.querySelector("#lists")},n=document.querySelector("#hamburger"),i=document.querySelector("#plussign"),r=document.querySelector(".sidebar"),l=document.querySelector("#projectname"),c=document.querySelector("#addproject"),s=document.querySelector("#projectform"),u=document.querySelector("#projects"),p=document.querySelector("#select-priority"),m=document.querySelector("#alltodo"),y=document.querySelector("#addtodo"),v=document.querySelector("#todotitle"),$=document.querySelector("#tododescription"),g=document.querySelector("#tododate"),h=document.querySelector("#todopriority"),S=document.querySelector("#todoform"),b=document.querySelector("#closeform"),x=document.querySelector("#projectchoice");if(!localStorage.getItem("savedProjects")){const t=JSON.stringify([["Default",[]]]);localStorage.setItem("savedProjects",t)}const j=JSON.parse(localStorage.savedProjects),q=()=>{localStorage.setItem("savedProjects",JSON.stringify(j))},f=()=>{x.textContent="",u.textContent="";for(let t=0;t<j.length;t++){const e=document.createElement("option");e.setAttribute("value",t),e.textContent=`${j[t][0]}`,x.append(e)}for(let t=0;t<j.length;t++){const e=document.createElement("option");e.setAttribute("value",t),e.textContent=`${j[t][0]}`,u.append(e)}};f();const L=()=>{const t=u.value;e.lists.innerHTML="";for(let e=0;e<j[t][1].length;e++)(0,o.createTodo)(t,e)};L(),y.addEventListener("click",(t=>{t.preventDefault();const e=x.value,o=new a(v.value,$.value,g.value,h.value);j[e][1].push(o),S.reset(),L(),document.querySelector(".modal").classList.toggle("modal-active"),q()})),c.addEventListener("click",(t=>{t.preventDefault(),j.push([l.value,[]]),s.reset(),f(),q()})),u.addEventListener("change",L),n.addEventListener("click",(()=>{r.classList.toggle("sidebar-hidden"),e.lists.classList.toggle("todomargin"),e.lists.classList.toggle("todo-adjust")})),i.addEventListener("click",(()=>{document.querySelector(".modal").classList.toggle("modal-active")})),b.addEventListener("click",(t=>{t.preventDefault(),document.querySelector(".modal").classList.toggle("modal-active")})),e.lists.addEventListener("click",(t=>{const e=t.target.dataset.project,o=t.target.dataset.index,a=t.target.parentElement;"delete"===t.target.dataset.input?(j[e][1].splice(o,1),L(),q()):"submit"===t.target.dataset.input&&(j[e][1][o].updateTitle=a.querySelector(".updatetitle").value,j[e][1][o].updateDescription=a.querySelector(".updatedescription").value,j[e][1][o].updateDueDate=a.querySelector(".updateduedate").value,j[e][1][o].updatePriority=a.querySelector(".updatepriority").value,L(),q())})),m.addEventListener("click",(()=>{e.lists.innerHTML="";for(let t=0;t<j.length;t++)for(let o=0;o<j[t][1].length;o++){const a=t,d=document.createElement("div");d.setAttribute("class","tododiv"),d.innerHTML=`<h3 class="todo-title" data-index="${o}">${j[a][1][o].title}</h3>\n        <p class="todo-description" data-index="${o}">${j[a][1][o].description}</p>\n        <p class="todo-duedate" data-input="update" index="${o}">${j[a][1][o].dueDate}</p>\n        <p class="todo-priority" data-index="${o}">Priority: ${j[a][1][o].priority}</p>\n        <button data-input="delete" data-project=${a} data-index="${o}">Delete</button> \n        <br>\n        <button data-input="edit" data-project=${a} data-index="${o}">Edit</button>\n        <input data-project=${a} type="text" class="updatetitle" placeholder="Update title" data-index="${o}">\n        <input data-project=${a}  type="text" class="updatedescription" placeholder="Update Description" data-index="${t}">\n        <input data-project=${a} type="date" class="updateduedate" data-index="${o}">\n        <select data-project=${a}  class="updatepriority" data-index="${o}">\n            <option value="low">Low</option>\n            <option value="medium">Medium</option>\n            <option value="high">High</option>\n        </select>\n\n        <button data-input="submit" data-project=${a} data-index="${o}">submit</button>\n        `,e.lists.appendChild(d)}})),p.addEventListener("change",(()=>{const t=p.value;e.lists.innerHTML="";for(let o=0;o<j.length;o++)for(let a=0;j[o][1].length;a++){const d=o;if(j[o][1][a].priority===t){const t=document.createElement("div");t.setAttribute("class","tododiv"),t.innerHTML=`<h3 class="todo-title" data-index="${a}">${j[d][1][a].title}</h3>\n        <p class="todo-description" data-index="${a}">${j[d][1][a].description}</p>\n        <p class="todo-duedate" data-input="update" index="${a}">${j[d][1][a].dueDate}</p>\n        <p class="todo-priority" data-index="${a}">Priority: ${j[d][1][a].priority}</p>\n        <button data-input="delete" data-project=${d} data-index="${a}">Delete</button> \n        <br>\n        <button data-input="edit" data-project=${d} data-index="${a}">Edit</button>\n        <input data-project=${d} type="text" class="updatetitle" placeholder="Update title" data-index="${a}">\n        <input data-project=${d}  type="text" class="updatedescription" placeholder="Update Description" data-index="${a}">\n        <input data-project=${d} type="date" class="updateduedate" data-index="${a}">\n        <select data-project=${d}  class="updatepriority" data-index="${a}">\n            <option value="low">Low</option>\n            <option value="medium">Medium</option>\n            <option value="high">High</option>\n        </select>\n\n        <button data-input="submit" data-project=${d} data-index="${a}">submit</button>\n        `,e.lists.appendChild(t)}}}))})();