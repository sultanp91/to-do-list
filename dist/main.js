(()=>{"use strict";class t{constructor(t,e,a,d){this.title=t,this.description=e,this.dueDate=a,this.priority=d,this.completion=!1}set updateTitle(t){this.title=t}set updateDescription(t){this.description=t}set updateDueDate(t){this.dueDate=t}set updatePriority(t){this.priority=t}}const e=document.querySelector("#hamburger"),a=document.querySelector("#plussign"),d=document.querySelector(".sidebar"),o=document.querySelector("#projectname"),n=document.querySelector("#addproject"),i=document.querySelector("#projectform"),r=document.querySelector("#projects"),c=document.querySelector("#select-priority"),l=document.querySelector("#alltodo"),p=document.querySelector("#addtodo"),u=document.querySelector("#todotitle"),s=document.querySelector("#tododescription"),$=document.querySelector("#tododate"),m=document.querySelector("#todopriority"),y=document.querySelector("#todoform"),v=document.querySelector("#closeform"),h=document.querySelector("#projectchoice"),x=document.querySelector("#lists");if(!localStorage.getItem("savedProjects")){const t=JSON.stringify([["Default",[]]]);localStorage.setItem("savedProjects",t)}const g=JSON.parse(localStorage.savedProjects),b=()=>{localStorage.setItem("savedProjects",JSON.stringify(g))},j=()=>{h.textContent="",r.textContent="";for(let t=0;t<g.length;t++){const e=document.createElement("option");e.setAttribute("value",t),e.textContent=`${g[t][0]}`,h.append(e)}for(let t=0;t<g.length;t++){const e=document.createElement("option");e.setAttribute("value",t),e.textContent=`${g[t][0]}`,r.append(e)}};j();const S=()=>{const t=r.value;x.innerHTML="";for(let e=0;e<g[t][1].length;e++){const a=document.createElement("div");a.setAttribute("class","tododiv"),a.innerHTML=`<h3 class="todo-title" data-index="${e}">${g[t][1][e].title}</h3>\n        <p class="todo-description" data-index="${e}">${g[t][1][e].description}</p>\n        <p class="todo-duedate" data-input="update" index="${e}">${g[t][1][e].dueDate}</p>\n        <p class="todo-priority" data-index="${e}">Priority: ${g[t][1][e].priority}</p>\n        <button data-input="delete" data-project=${t} data-index="${e}">Delete</button> \n        <br>\n        <button data-input="edit" data-project=${t} data-index="${e}">Edit</button>\n        <input data-project=${t} type="text" class="updatetitle" placeholder="Update title" data-index="${e}">\n        <input data-project=${t}  type="text" class="updatedescription" placeholder="Update Description" data-index="${e}">\n        <input data-project=${t} type="date" class="updateduedate" data-index="${e}">\n        <select data-project=${t}  class="updatepriority" data-index="${e}">\n            <option value="low">Low</option>\n            <option value="medium">Medium</option>\n            <option value="high">High</option>\n        </select>\n\n        <button data-input="submit" data-project=${t} data-index="${e}">submit</button>\n        `,x.appendChild(a)}};S(),p.addEventListener("click",(e=>{e.preventDefault();const a=h.value,d=new t(u.value,s.value,$.value,m.value);g[a][1].push(d),y.reset(),S(),document.querySelector(".modal").classList.toggle("modal-active"),b()})),n.addEventListener("click",(t=>{t.preventDefault(),g.push([o.value,[]]),i.reset(),j(),b()})),r.addEventListener("change",S),e.addEventListener("click",(()=>{d.classList.toggle("sidebar-hidden"),x.classList.toggle("todomargin"),x.classList.toggle("todo-adjust")})),a.addEventListener("click",(()=>{document.querySelector(".modal").classList.toggle("modal-active")})),v.addEventListener("click",(t=>{t.preventDefault(),document.querySelector(".modal").classList.toggle("modal-active")})),x.addEventListener("click",(t=>{const e=t.target.dataset.project,a=t.target.dataset.index,d=t.target.parentElement;"delete"===t.target.dataset.input?(g[e][1].splice(a,1),S(),b()):"submit"===t.target.dataset.input&&(g[e][1][a].updateTitle=d.querySelector(".updatetitle").value,g[e][1][a].updateDescription=d.querySelector(".updatedescription").value,g[e][1][a].updateDueDate=d.querySelector(".updateduedate").value,g[e][1][a].updatePriority=d.querySelector(".updatepriority").value,S(),b())})),l.addEventListener("click",(()=>{x.innerHTML="";for(let t=0;t<g.length;t++)for(let e=0;e<g[t][1].length;e++){const a=t,d=document.createElement("div");d.setAttribute("class","tododiv"),d.innerHTML=`<h3 class="todo-title" data-index="${e}">${g[a][1][e].title}</h3>\n        <p class="todo-description" data-index="${e}">${g[a][1][e].description}</p>\n        <p class="todo-duedate" data-input="update" index="${e}">${g[a][1][e].dueDate}</p>\n        <p class="todo-priority" data-index="${e}">Priority: ${g[a][1][e].priority}</p>\n        <button data-input="delete" data-project=${a} data-index="${e}">Delete</button> \n        <br>\n        <button data-input="edit" data-project=${a} data-index="${e}">Edit</button>\n        <input data-project=${a} type="text" class="updatetitle" placeholder="Update title" data-index="${e}">\n        <input data-project=${a}  type="text" class="updatedescription" placeholder="Update Description" data-index="${t}">\n        <input data-project=${a} type="date" class="updateduedate" data-index="${e}">\n        <select data-project=${a}  class="updatepriority" data-index="${e}">\n            <option value="low">Low</option>\n            <option value="medium">Medium</option>\n            <option value="high">High</option>\n        </select>\n\n        <button data-input="submit" data-project=${a} data-index="${e}">submit</button>\n        `,x.appendChild(d)}})),c.addEventListener("change",(()=>{const t=c.value;x.innerHTML="";for(let e=0;e<g.length;e++)for(let a=0;g[e][1].length;a++){const d=e;if(g[e][1][a].priority===t){const t=document.createElement("div");t.setAttribute("class","tododiv"),t.innerHTML=`<h3 class="todo-title" data-index="${a}">${g[d][1][a].title}</h3>\n        <p class="todo-description" data-index="${a}">${g[d][1][a].description}</p>\n        <p class="todo-duedate" data-input="update" index="${a}">${g[d][1][a].dueDate}</p>\n        <p class="todo-priority" data-index="${a}">Priority: ${g[d][1][a].priority}</p>\n        <button data-input="delete" data-project=${d} data-index="${a}">Delete</button> \n        <br>\n        <button data-input="edit" data-project=${d} data-index="${a}">Edit</button>\n        <input data-project=${d} type="text" class="updatetitle" placeholder="Update title" data-index="${a}">\n        <input data-project=${d}  type="text" class="updatedescription" placeholder="Update Description" data-index="${a}">\n        <input data-project=${d} type="date" class="updateduedate" data-index="${a}">\n        <select data-project=${d}  class="updatepriority" data-index="${a}">\n            <option value="low">Low</option>\n            <option value="medium">Medium</option>\n            <option value="high">High</option>\n        </select>\n\n        <button data-input="submit" data-project=${d} data-index="${a}">submit</button>\n        `,x.appendChild(t)}}}))})();